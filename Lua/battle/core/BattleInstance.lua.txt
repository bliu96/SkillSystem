local BattleWorld = require("battle.core.BattleWorld")
local BattleState = require("battle.core.BattleState")
local BattleMode = require("battle.core.BattleMode")

---@class BattleInstance
---@field New fun() : BattleInstance
local BattleInstance = battle.class("BattleInstance")

function BattleInstance:Ctor()
    self.world = BattleWorld.New(self)
    self.state = BattleState.New(self)
    self.battleMode = BattleMode.New(self)
end

function BattleInstance:StartBattle()
    self.world:InitWorld()
    self.battleMode:StartBattle()
end

function BattleInstance:Tick()
    self.battleMode:Tick()
end

return BattleInstance